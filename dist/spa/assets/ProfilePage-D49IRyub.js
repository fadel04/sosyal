import{a as ae,c as ne,i as se,Q as U,m as u,l as k,n as re,o as ie,p as w,k as B,C as Q}from"./useApi-BvUqY1tE.js";import{Q as z,a as c,b as C}from"./QItem-BTUWoWEx.js";import{c as de,a as b,h as ue,g as me,_ as pe,y as fe,A as r,B as m,C as t,E as a,D as l,F as i,G as s,J as $,H as g,O as ce,Q as ge,I as N,x as P}from"./index-Do2U6s1M.js";import{a as F,Q as d,b as ye}from"./QBtn-DYZTwiAx.js";import{Q as ve}from"./QPage-Dcfz10FS.js";import"./dom-yNob52VE.js";import"./scroll-BnXb6wY2.js";import"./axios-CrDRZsLl.js";import"./useAuthToken-DmPVqjwS.js";const ke={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},D={xs:2,sm:4,md:8,lg:16,xl:24},O=de({name:"QSeparator",props:{...ae,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const o=me(),q=ne(e,o.proxy.$q),y=b(()=>e.vertical===!0?"vertical":"horizontal"),v=b(()=>` q-separator--${y.value}`),_=b(()=>e.inset!==!1?`${v.value}-${ke[e.inset]}`:""),n=b(()=>`q-separator${v.value}${_.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(q.value===!0?" q-separator--dark":"")),p=b(()=>{const f={};if(e.size!==void 0&&(f[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const V=e.spaced===!0?`${D.md}px`:e.spaced in D?`${D[e.spaced]}px`:e.spaced,h=e.vertical===!0?["Left","Right"]:["Top","Bottom"];f[`margin${h[0]}`]=f[`margin${h[1]}`]=V}return f});return()=>ue("hr",{class:n.value,style:p.value,"aria-orientation":y.value})}}),Ce=fe({name:"ProfilePage",setup(){const{posts:e,postComments:o,getUser:q,user:y,apiUrl:v,limit:_,performSearch:n,post:p,opp:f,urlParams:V,id:h,comments:E,author:J,commentForm:L,createComment:R,postData:T,updatePost:M,error:G,postUp:H,deletePost:K,confirm:Y,idBul:j,alert:W,loading:X,res:Z,edit:A,getProfile:S,profile:x,getIdUser:ee,idTow:le,getPostUser:I,userAuthor:te,authorId:oe}=se();return S(),I(),{posts:e,postComments:o,getUser:q,user:y,apiUrl:v,limit:_,performSearch:n,opp:f,urlParams:V,id:h,post:p,comments:E,author:J,commentForm:L,createComment:R,postData:T,updatePost:M,error:G,idBul:j,postUp:H,loading:X,res:Z,edit:A,confirm:Y,alert:W,deletePost:K,getProfile:S,profile:x,getIdUser:ee,idTow:le,getPostUser:I,userAuthor:te,authorId:oe}}}),be={class:"q-pa-sm row items-start q-gutter-md"},qe=["src"],_e={key:0},he={class:"q-ma-none",style:{"font-weight":"100",color:"rgb(172, 172, 172)"}},we={style:{color:"black","font-size":"25px"}},Qe={class:"q-ma-none q-mt-sm",style:{"font-weight":"100",color:"rgb(172, 172, 172)"}},$e={style:{color:"black","font-size":"25px"}},Pe={class:"q-pa-sm"},Ve={class:"q-ma-none q-pa-none"},Ue=["src"],Be=["src","onClick"],De={align:"right"},Se={class:"q-ma-none q-pa-sm"},Ie={class:"q-ma-none text-grey",style:{"font-size":"10px"}},ze={class:"q-mr-xs"},Ne={style:{"word-break":"break-word","overflow-wrap":"break-word"}},Fe={key:0,style:{color:"green"}},Oe={key:1};function Ee(e,o,q,y,v,_){return r(),m(ve,{class:"column flex-center bg-blue-grey-2"},{default:t(()=>[a("div",be,[a("div",null,[l(k,{class:"my-card shadow-4"},{default:t(()=>[l(z,null,{default:t(()=>[l(c,{avatar:""},{default:t(()=>[l(U,null,{default:t(()=>[a("img",{src:e.profile.profile_image},null,8,qe)]),_:1})]),_:1}),l(c,null,{default:t(()=>[l(C,null,{default:t(()=>[i(s(e.profile.name),1)]),_:1}),l(C,{caption:""},{default:t(()=>[i(s(e.profile.username),1)]),_:1})]),_:1})]),_:1}),l(O),l(u,{horizontal:""},{default:t(()=>[l(u,null,{default:t(()=>[e.profile.email!=null?(r(),$("p",_e,"Emial: "+s(e.profile.email),1)):g("",!0),a("p",null,"Name: "+s(e.profile.name),1),a("p",null,"User: "+s(e.profile.username),1)]),_:1}),l(O,{vertical:""}),l(u,null,{default:t(()=>[a("p",he,[a("span",we,[a("b",null,s(e.profile.posts_count),1)]),o[7]||(o[7]=i(" Post"))]),a("p",Qe,[a("span",$e,[a("b",null,s(e.profile.comments_count),1)]),o[8]||(o[8]=i(" Comment"))])]),_:1})]),_:1})]),_:1}),a("div",Pe,[a("p",Ve,[a("b",null,[a("span",null,s(e.profile.username),1),o[9]||(o[9]=i("'s Posts"))])])]),(r(!0),$(ge,null,ce(e.userAuthor,n=>(r(),m(k,{class:"my-card shadow-4",key:n,name:n},{default:t(()=>[l(z,null,{default:t(()=>[l(c,{avatar:""},{default:t(()=>[l(U,{class:"overlapping"},{default:t(()=>[a("img",{class:"col-5",src:e.profile.profile_image},null,8,Ue)]),_:1})]),_:1}),l(c,null,{default:t(()=>[l(C,null,{default:t(()=>[a("b",null,s(e.profile.name),1)]),_:1}),l(C,{caption:""},{default:t(()=>[i(s(e.profile.username),1)]),_:1})]),_:1})]),_:1}),a("img",{style:{height:"350px",cursor:"pointer"},src:n.image,onClick:p=>e.opp(n.id)},null,8,Be),l(u,{class:"q-px-xs q-ma-none q-pt-none"},{default:t(()=>[l(c,{class:"q-px-xs q-ma-none q-pt-none"},{default:t(()=>[l(C,null,{default:t(()=>[l(w,{class:"q-px-xs q-ma-none q-pt-none"},{default:t(()=>[n.comments_count==0?(r(),m(d,{key:0,flat:"",round:"",color:"red",icon:"favorite"},{default:t(()=>[i(s(e.postComments),1)]),_:1})):(r(),m(d,{key:1,flat:"",round:"",color:"red",icon:"favorite"},{default:t(()=>[i(s(n.comments_count),1)]),_:2},1024)),n.comments_count==0?(r(),m(d,{key:2,flat:"",round:"",color:"accent",icon:"comment"},{default:t(()=>[i(s(e.postComments),1)]),_:1})):(r(),m(d,{key:3,flat:"",round:"",color:"accent",icon:"comment"},{default:t(()=>[i(s(n.comments_count),1)]),_:2},1024)),l(c,null,{default:t(()=>[a("div",De,[e.user!=null&&e.profile.id==e.user.id?(r(),m(d,{key:0,flat:"",onClick:p=>(e.edit=!0,e.idBul(`${encodeURIComponent(JSON.stringify(n))}`)),rounded:"",icon:"edit"},null,8,["onClick"])):g("",!0),e.user!=null&&e.profile.id==e.user.id?(r(),m(d,{key:1,flat:"",onClick:p=>(e.confirm=!0,e.open("top"),e.idBul(`${encodeURIComponent(JSON.stringify(n))}`)),rounded:"",icon:"delete",color:"red"},null,8,["onClick"])):g("",!0)])]),_:2},1024)]),_:2},1024)]),_:2},1024),a("div",Se,[a("span",Ie,s(n.created_at),1),a("p",null,[a("b",ze,s(e.profile.username),1),a("span",Ne,s(n.body),1)])])]),_:2},1024)]),_:2},1024)]),_:2},1032,["name"]))),128)),l(B,{modelValue:e.edit,"onUpdate:modelValue":o[4]||(o[4]=n=>e.edit=n),persistent:""},{default:t(()=>[l(k,{style:{"min-width":"30%"}},{default:t(()=>[l(u,null,{default:t(()=>o[10]||(o[10]=[a("div",{class:"text-h6"},"Upadet Post",-1)])),_:1}),l(u,{align:"center",class:"q-pt-none"},{default:t(()=>[l(re,{outlined:"",autogrow:"",type:"textarea",label:"Body",modelValue:e.postData.body,"onUpdate:modelValue":o[0]||(o[0]=n=>e.postData.body=n),autofocus:""},null,8,["modelValue"]),l(ie,{filled:"","bottom-slots":"",modelValue:e.postData.image,"onUpdate:modelValue":o[3]||(o[3]=n=>e.postData.image=n),accept:"image/*",label:"Add image",counter:""},{prepend:t(()=>[l(F,{name:"cloud_upload",onClick:o[1]||(o[1]=N(()=>{},["stop","prevent"]))})]),append:t(()=>[l(F,{name:"close",onClick:o[2]||(o[2]=N(n=>e.form.image=null,["stop","prevent"])),class:"cursor-pointer"})]),hint:t(()=>[e.res?(r(),$("p",Fe,[a("b",null,s(e.res),1)])):g("",!0),e.error?(r(),$("p",Oe,[a("b",null,s(e.error),1)])):g("",!0)]),_:1},8,["modelValue"])]),_:1}),l(w,{align:"right",class:"text-primary"},{default:t(()=>[P(l(d,{flat:"",class:"text-grey-8",label:"Cancel"},null,512),[[Q]]),l(d,{color:"brown",onClick:e.updatePost},{default:t(()=>[o[11]||(o[11]=i("Upadet post ")),e.loading?(r(),m(ye,{key:0,class:"q-ml-sm"})):g("",!0)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(B,{modelValue:e.confirm,"onUpdate:modelValue":o[5]||(o[5]=n=>e.confirm=n),persistent:""},{default:t(()=>[l(k,null,{default:t(()=>[l(u,{class:"row items-center"},{default:t(()=>[l(U,{icon:"error",color:"red","text-color":"white"}),o[12]||(o[12]=a("span",{class:"q-ml-sm"},"Are you sure you want to delete the post?",-1))]),_:1}),l(w,{align:"right"},{default:t(()=>[P(l(d,{squre:"",label:"Cancel",color:"grey"},null,512),[[Q]]),P(l(d,{squre:"",label:"Yes, Delete",onClick:e.deletePost,color:"red"},null,8,["onClick"]),[[Q]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(B,{modelValue:e.alert,"onUpdate:modelValue":o[6]||(o[6]=n=>e.alert=n),style:{width:"50%"}},{default:t(()=>[l(k,null,{default:t(()=>[l(u,null,{default:t(()=>o[13]||(o[13]=[a("div",{class:"text-h6"},"Alert",-1)])),_:1}),l(u,{class:"q-pt-none"},{default:t(()=>o[14]||(o[14]=[i(" Deleted post ")])),_:1}),l(w,{align:"right"},{default:t(()=>[P(l(d,{flat:"",label:"OK",color:"primary"},null,512),[[Q]])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),_:1})}const je=pe(Ce,[["render",Ee],["__scopeId","data-v-d226174a"],["__file","ProfilePage.vue"]]);export{je as default};
